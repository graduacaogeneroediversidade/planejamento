<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Planejamento Acad√™mico Interativo - G√™nero e Diversidade UFBA</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;700;900&display=swap" rel="stylesheet">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/tone/14.7.77/Tone.js"></script>
    <style>
        body {
            font-family: 'Montserrat', sans-serif;
            background-color: #46178F;
            color: #ffffff;
        }
        .kahoot-header {
            background-color: #333;
        }
        .kahoot-main-nav button {
            transition: all 0.2s ease-in-out;
            font-weight: 700;
            font-size: 1.25rem;
            border-radius: 0.5rem;
            padding: 1rem 1.5rem;
            box-shadow: 0 4px 0 #2c2c2c;
            transform: translateY(0);
        }
        .kahoot-main-nav button:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 0 #2c2c2c;
        }
        .kahoot-main-nav button:active {
            transform: translateY(2px);
            box-shadow: 0 2px 0 #2c2c2c;
        }
        .tab-content {
            display: none;
        }
        .tab-content.active {
            display: block;
            animation: zoomIn 0.5s ease-in-out;
        }
        @keyframes zoomIn {
            from { transform: scale(0.95); opacity: 0; }
            to { transform: scale(1); opacity: 1; }
        }
        .kahoot-card {
            background-color: #fff;
            color: #333;
            border-radius: 0.5rem;
            padding: 1.5rem;
            box-shadow: 0 4px 0 rgba(0,0,0,0.2);
        }
        .calendar-event-card {
            background-color: #ffffff;
            color: #333;
            border-radius: 8px;
            padding: 1rem;
            box-shadow: 0 4px 0px rgba(0,0,0,0.1);
            display: flex;
            align-items: center;
            gap: 1rem;
        }
        .calendar-event-card .date {
            font-weight: 900;
            font-size: 1.25rem;
            padding: 1rem;
            border-radius: 4px;
            text-align: center;
        }
        .calendar-event-card .details h3 {
            font-weight: 700;
            font-size: 1.1rem;
        }
        .disciplina-accordion-btn, .sigaa-accordion-btn {
            width: 100%;
            padding: 1rem;
            font-size: 1.5rem; /* T3 */
            font-weight: 900;
            color: white;
            border-radius: 8px;
            text-align: center;
            margin-bottom: 0.5rem;
            box-shadow: 0 4px 0px rgba(0,0,0,0.2);
            transition: all 0.2s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 0.75rem;
        }
         .disciplina-accordion-btn:hover, .sigaa-accordion-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 0px rgba(0,0,0,0.2);
        }
        .disciplina-accordion-content, .sigaa-accordion-content {
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.5s ease-in-out;
            background-color: rgba(0,0,0,0.2);
            border-radius: 8px;
            padding: 0 1rem;
        }
        .disciplina-card {
            transition: transform 0.2s;
            box-shadow: 0 4px 0px rgba(0,0,0,0.2);
        }
        .disciplina-card:hover {
            transform: translateY(-4px) scale(1.02);
            box-shadow: 0 8px 0px rgba(0,0,0,0.2);
        }
        .tag {
            display: inline-block;
            padding: 0.25rem 0.75rem;
            border-radius: 9999px;
            font-size: 0.75rem;
            font-weight: 700;
        }
        
        /* QUIZ STYLES */
        #quiz-container { background-color: #333; padding: 2rem; border-radius: 1rem; }
        #quiz-question { background-color: #fff; color: #333; padding: 2rem; border-radius: 0.5rem; font-size: 1.5rem; font-weight: 700; text-align: center; margin-bottom: 1rem; }
        #quiz-timer { font-size: 3rem; font-weight: 900; text-align: center; margin-bottom: 1rem; }
        .quiz-option { font-size: 1.25rem; font-weight: 700; color: white; padding: 1.5rem; border-radius: 0.5rem; cursor: pointer; transition: all 0.2s; box-shadow: 0 4px 0 rgba(0,0,0,0.3); display: flex; align-items: center; gap: 1rem; }
        .quiz-option:hover { transform: translateY(-2px); box-shadow: 0 6px 0 rgba(0,0,0,0.3); }
        .quiz-option.disabled { opacity: 0.5; cursor: not-allowed; }
        #feedback-modal { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background-color: rgba(0,0,0,0.7); display: flex; align-items: center; justify-content: center; z-index: 1000; opacity: 0; pointer-events: none; transition: opacity 0.3s; }
        #feedback-modal.show { opacity: 1; pointer-events: auto; }
        #feedback-content { padding: 2rem; border-radius: 1rem; text-align: center; color: #fff; font-size: 1.5rem; font-weight: 700; transform: scale(0.8); transition: transform 0.3s; }
        #feedback-modal.show #feedback-content { transform: scale(1); }
        #feedback-content.correct { background-color: #28a745; }
        #feedback-content.incorrect { background-color: #dc3545; }
        #results-screen { display: none; text-align: center; }
        #feedback-points { font-size: 2.5rem; font-weight: 900; margin-top: 1rem; }
    </style>
</head>
<body class="p-4 sm:p-8">

    <div class="max-w-7xl mx-auto">
        <header class="kahoot-header p-6 rounded-t-lg text-center">
             <h1 class="text-3xl sm:text-5xl font-black tracking-wider">Planejamento Acad√™mico 2025.2</h1>
             <p class="text-lg sm:text-xl font-bold text-gray-300 mt-2">Bacharelado em Estudos de G√™nero e Diversidade - UFBA</p>
        </header>

        <nav class="kahoot-main-nav grid grid-cols-2 lg:grid-cols-4 gap-2 p-2 bg-gray-700">
            <button class="tab-button bg-red-600" data-tab="calendario">üóìÔ∏è Calend√°rio</button>
            <button class="tab-button bg-blue-600" data-tab="disciplinas">üìö Disciplinas</button>
            <button class="tab-button bg-yellow-500" data-tab="sigaa">üéì SIGAA</button>
            <button class="tab-button bg-green-600" data-tab="quiz">üöÄ Quiz</button>
        </nav>

        <main class="bg-gray-800 p-4 sm:p-8 rounded-b-lg">
            <div id="calendario" class="tab-content active">
                <div class="kahoot-card" style="background-color: #2d00f7;">
                    <h2 class="text-4xl font-black text-white mb-6">üóìÔ∏è Calend√°rio Acad√™mico 2025.2</h2>
                    <div class="space-y-8">
                        <div>
                            <h3 class="text-2xl font-black text-white mb-4">Agosto</h3>
                            <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                                <div class="calendar-event-card"><div class="date bg-red-500 text-white">27/08 a 03/09</div><div class="details"><h3>Matr√≠cula WEB</h3><p>Respons√°vel: Estudantes</p></div></div>
                                <div class="calendar-event-card"><div class="date bg-blue-500 text-white">30/08 a 30/10</div><div class="details"><h3>Cola√ß√£o de Grau (2025.1)</h3><p>Respons√°vel: Colegiado / Formandos</p></div></div>
                            </div>
                        </div>
                        <div>
                            <h3 class="text-2xl font-black text-white mb-4">Setembro</h3>
                            <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                                <div class="calendar-event-card"><div class="date bg-green-500 text-white">01</div><div class="details"><h3>In√≠cio das Aulas</h3><p>Respons√°vel: Todos</p></div></div>
                                <div class="calendar-event-card"><div class="date bg-blue-500 text-white">01 a 05</div><div class="details"><h3>Congresso UFBA</h3><p>Respons√°vel: Todos</p></div></div>
                                <div class="calendar-event-card"><div class="date bg-yellow-500 text-black">10</div><div class="details"><h3>Resultado da Matr√≠cula WEB</h3><p>Respons√°vel: STI</p></div></div>
                                <div class="calendar-event-card"><div class="date bg-red-500 text-white">16 a 18</div><div class="details"><h3>Re-Matr√≠cula WEB</h3><p>Respons√°vel: Estudante</p></div></div>
                                <div class="calendar-event-card"><div class="date bg-yellow-500 text-black">24</div><div class="details"><h3>Resultado da Re-Matr√≠cula</h3><p>Respons√°vel: STI</p></div></div>
                                <div class="calendar-event-card"><div class="date bg-red-500 text-white">25 a 29</div><div class="details"><h3>Matr√≠cula Extraordin√°ria</h3><p>Respons√°vel: Estudante</p></div></div>
                                <div class="calendar-event-card"><div class="date bg-blue-500 text-white">30/09 a 29/10</div><div class="details"><h3>Per√≠odo de Trancamento</h3><p>Respons√°vel: Estudante</p></div></div>
                            </div>
                        </div>
                         <div>
                            <h3 class="text-2xl font-black text-white mb-4">Janeiro 2026</h3>
                            <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                                <div class="calendar-event-card"><div class="date bg-green-500 text-white">10</div><div class="details"><h3>√öltimo Dia de Aulas</h3><p>Respons√°vel: Todos</p></div></div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div id="disciplinas" class="tab-content">
                 <div class="kahoot-card" style="background-color: #0096c7;">
                    <h2 class="text-4xl font-black text-white mb-6">üìö Disciplinas Ofertadas 2025.2</h2>
                    <div id="disciplinas-accordion-container" class="space-y-2">
                        <!-- Accordion items will be injected here by JavaScript -->
                    </div>
                </div>
            </div>

            <div id="sigaa" class="tab-content">
                <div class="kahoot-card" style="background-color: #6a00f4;">
                    <h2 class="text-4xl font-black text-white mb-6">üéì TUDO SOBRE O SIGAA</h2>
                    <div id="sigaa-accordion-container" class="space-y-2">
                        <!-- SIGAA Accordion items will be injected here -->
                    </div>
                </div>
            </div>

            <div id="quiz" class="tab-content">
                <div id="quiz-intro" class="text-center">
                    <h2 class="text-5xl font-black mb-4">üöÄ Quiz</h2>
                    <p class="text-xl mb-8">Teste seus conhecimentos sobre a matr√≠cula e o SIGAA!</p>
                    <button id="start-quiz-btn" class="bg-green-500 text-white font-bold text-2xl py-4 px-8 rounded-lg shadow-lg transform hover:scale-105 transition">Come√ßar o Desafio!</button>
                </div>

                <div id="quiz-container" style="display: none;">
                    <div class="flex justify-between items-center mb-4 text-lg font-bold">
                        <div id="running-score">Pontos: 0</div>
                        <div id="question-counter"></div>
                    </div>
                    <div id="quiz-timer" class="text-white">30</div>
                    <div id="quiz-question" class="bg-white text-gray-800"></div>
                    <div id="quiz-options" class="grid grid-cols-1 md:grid-cols-2 gap-4 mt-4">
                        <div class="quiz-option" data-index="0"><span></span></div>
                        <div class="quiz-option" data-index="1"><span></span></div>
                        <div class="quiz-option" data-index="2"><span></span></div>
                        <div class="quiz-option" data-index="3"><span></span></div>
                    </div>
                </div>

                <div id="results-screen" style="display: none;">
                     <div id="results-card" class="kahoot-card text-white">
                        <h2 class="text-5xl font-black mb-4">Fim de Jogo!</h2>
                        <p class="text-2xl mb-2">Sua pontua√ß√£o final foi:</p>
                        <p id="final-score" class="text-6xl font-black text-yellow-400 my-8"></p>
                        <p id="results-message" class="text-2xl font-bold mb-8"></p>
                        <button id="restart-quiz-btn" class="bg-blue-500 text-white font-bold text-2xl py-4 px-8 rounded-lg shadow-lg transform hover:scale-105 transition">Jogar Novamente</button>
                    </div>
                </div>
            </div>
        </main>
        <footer class="text-center p-4 bg-gray-900 rounded-b-lg text-sm">
            <p class="italic">*Informa√ß√µes sujeitas a altera√ß√µes*.</p>
            <p class="mt-1"><strong>Contato:</strong> generoediversidade@ufba.br | <strong>Tel:</strong> (71) 3283-6463</p>
        </footer>
    </div>

    <div id="feedback-modal">
        <div id="feedback-content">
            <p id="feedback-title"></p>
            <p id="feedback-text" class="text-lg mt-2 font-normal"></p>
            <div id="feedback-points"></div>
        </div>
    </div>

    <script>
    document.addEventListener('DOMContentLoaded', () => {
        const tabButtons = document.querySelectorAll('.tab-button');
        const tabContents = document.querySelectorAll('.tab-content');

        tabButtons.forEach(button => {
            button.addEventListener('click', () => {
                const tabId = button.dataset.tab;
                tabContents.forEach(content => content.classList.remove('active'));
                document.getElementById(tabId).classList.add('active');
            });
        });

        // --- INJECT DISCIPLINAS DATA ---
        const disciplinasData = {
            "2¬∫ Semestre": {
                color: "bg-red-500",
                data: [
                    { dia: "Segunda-feira", d: [{cod: "FCHE05", nome: "G√™nero e Linguagem", prof: "Lea Menezes", horario: "18h30-22h10", paf: "FACOM", sala: "Sala 10", vagas: 50, tipo: "Obrigat√≥ria"}] },
                    { dia: "Ter√ßa-feira", d: [{cod: "FCHE04", nome: "G√™nero e Rela√ß√µes de Poder", prof: "Ana Paula Boscatti", horario: "18h30-22h10", paf: "FACOM", sala: "Sala 11", vagas: 50, pre: "FCHE38", tipo: "Obrigat√≥ria"}] },
                    { dia: "Quarta-feira", d: [{cod: "FCHF53", nome: "Semin√°rio Tem√°tico de Teorias Feministas", prof: "Marcia Macedo", horario: "18h30-22h10", paf: "FACOM", sala: "Sala 7B", vagas: 50, tipo: "Optativa"}] },
                    { dia: "Quinta-feira", d: [{cod: "FCHE45", nome: "G√™nero e cultura", prof: "Amanda Medeiros", horario: "18h30-22h10", paf: "FACOM", sala: "Sala 9", vagas: 50, tipo: "Optativa"}] },
                    { dia: "Sexta-feira", d: [{cod: "FCHE39", nome: "Organiza√ß√£o Pol√≠tica do Brasil", prof: "Maise Zucco", horario: "18h30-22h10", paf: "FACOM", sala: "Sala 10", vagas: 50, pre: "FCHE38", tipo: "Obrigat√≥ria"}] },
                ]
            },
            "4¬∫ Semestre": {
                color: "bg-blue-500",
                data: [
                    { dia: "Segunda-feira", d: [{cod: "FCHF47", nome: "G√™nero e Meio Ambiente (T01)", prof: "Marina Guimar√£es", horario: "18h30-22h10", paf: "FACOM", sala: "Sala 11", vagas: 50, tipo: "Optativa"}] },
                    { dia: "Ter√ßa-feira", d: [{cod: "FCHE22", nome: "G√™nero e Gera√ß√£o", prof: "Marcia Macedo", horario: "18h30-22h10", paf: "FACOM", sala: "SALA 7B", vagas: 50, tipo: "Optativa"}, {cod: "FCHF54", nome: "Semin√°rio Tem√°tico G√™nero, Feminismo e Educa√ß√£o", prof: "Darlane Andrade", horario: "18h30-22h10", paf: "FACOM", sala: "Sala 4", vagas: 50, tipo: "Optativa"}, {cod: "FCHE37", nome: "G√™nero e Rela√ß√µes Raciais", prof: "Janja Ara√∫jo", horario: "18h30-22h10", paf: "FACOM", sala: "Sala 9", vagas: 50, tipo: "Optativa"}] },
                    { dia: "Quarta-feira", d: [{cod: "FCHE44", nome: "G√™nero e Viol√™ncia (T01)", prof: "Ana Paula Boscatti", horario: "18h30-22h10", paf: "FACOM", sala: "Sala 11", vagas: 50, tipo: "Obrigat√≥ria"}] },
                    { dia: "Quinta-feira", d: [{cod: "FCHE41", nome: "G√™nero e Pol√≠ticas P√∫blicas I", prof: "Walkyria Chagas", horario: "18h30-22h10", paf: "FACOM", sala: "Sala 6A", vagas: 50, pre: "FCHE38, FCHE39, FCHE04, FCHE43", tipo: "Obrigat√≥ria"}] },
                    { dia: "Sexta-feira", d: [{cod: "FCHE40", nome: "G√™nero e Desenvolvimento Regional", prof: "Luana Passos", horario: "18h30-22h10", paf: "FACOM", sala: "Sala 11", vagas: 50, tipo: "Obrigat√≥ria"}] },
                ]
            },
            "6¬∫ Semestre": {
                color: "bg-yellow-500",
                data: [
                    { dia: "Segunda-feira", d: [{cod: "GFCH0003", nome: "Est√°gio Supervisionado I", prof: "Darlane Andrade", horario: "18h30-20h20", paf: "FACOM", sala: "Sala 12", vagas: 12, tipo: "Obrigat√≥ria"}, {cod: "GFCH0004", nome: "Est√°gio Supervisionado III (T02)", prof: "Marcia Macedo", horario: "20h20-22h10", paf: "FACOM", sala: "A definir", vagas: 12, pre: "GFCH0003, FCHE59", tipo: "Obrigat√≥ria", status: "Cancelada"}, {cod: "GFCH0004", nome: "Est√°gio Supervisionado III (T01)", prof: "Darlane Andrade", horario: "20h20-22h10", paf: "FACOM", sala: "Sala 12", vagas: 12, pre: "GFCH0003, FCHE59", tipo: "Obrigat√≥ria"}] },
                    { dia: "Ter√ßa-feira", d: [{cod: "FCHE24", nome: "Inicia√ß√£o Cientifica aplicada II", prof: "Iole Vanin", horario: "18h30-20h20", paf: "FACOM", sala: "Sala 6A", vagas: 50, pre: "FCHE23", tipo: "Obrigat√≥ria"}] },
                    { dia: "Quarta-feira", d: [{cod: "FCHE25", nome: "G√™nero e Pol√≠ticas P√∫blicas III", prof: "Amanda Medeiros", horario: "18h30-20h20", paf: "FACOM", sala: "Sala 9", vagas: 50, pre: "FCHE38, FCHE39, FCHE04, FCHE43, FCHE41, FCHE42", tipo: "Obrigat√≥ria"}] },
                    { dia: "Quinta-feira", d: [{cod: "FCHE60", nome: "Epistemologia, hist√≥ria das ci√™ncias e g√™nero", prof: "Ma√≠ra Kubik", horario: "18h30-20h20", paf: "FACOM", sala: "Sala 10", vagas: 50, tipo: "Optativa"}] },
                    { dia: "Sexta-feira", d: [{cod: "FCHE19", nome: "G√™nero e Interseccionalidades", prof: "Amanda Medeiros", horario: "18h30-20h20", paf: "FACOM", sala: "Sala 9", vagas: 50, tipo: "Optativa"}] },
                ]
            },
            "8¬∫ Semestre": {
                color: "bg-green-500",
                data: [
                    { dia: "Ter√ßa-feira", d: [{cod: "FCHF52", nome: "G√™nero e Comunica√ß√£o", prof: "Lea Menezes", horario: "18h30-22h10", paf: "FACOM", sala: "Sala 10", vagas: 50, tipo: "Optativa"}] },
                    { dia: "Quarta-feira", d: [{cod: "FCHE36", nome: "Pedagogias Feministas", prof: "Vanessa Cavalcanti", horario: "18h30-22h10", paf: "FACOM", sala: "Sala 4", vagas: 50, tipo: "Optativa"}] },
                    { dia: "Quinta-feira", d: [{cod: "FCHE26", nome: "G√™nero e Trabalho", prof: "Luana Passos", horario: "18h30-22h10", paf: "FACOM", sala: "Sala 11", vagas: 50, tipo: "Optativa"}] },
                ]
            },
            "Disciplinas para Outras Gradua√ß√µes": {
                color: "bg-purple-600",
                data: [
                    { dia: "Segunda-feira", d: [{cod: "FCHE02", nome: "Introdu√ß√£o aos Estudos de G√™nero (T01)", prof: "Amanda Medeiros", horario: "18:30-22:10", paf: "FACOM", sala: "Sala 09", vagas: 50, tipo: "Obrigat√≥ria"}] },
                    { dia: "Ter√ßa-feira", d: [{cod: "FCHF47", nome: "G√™nero e Meio Ambiente (T02)", prof: "Marina Guimar√£es", horario: "13:00-16:40", paf: "PSL", sala: "Sala 15", vagas: 50, tipo: "Optativa"}, {cod: "FCHE46", nome: "Metodologia de Projetos de Interven√ß√£o Social", prof: "Walkyria Chagas", horario: "13:00-16:40", paf: "PAF 1", sala: "Sala 105", vagas: 50, tipo: "Optativa"}, {cod: "FCHE02", nome: "Introdu√ß√£o aos Estudos de G√™nero (T04)", prof: "Anderson Fontes", horario: "13:00-16:40", paf: "NEIM", sala: "Sala 2", vagas: 50, tipo: "Obrigat√≥ria"}] },
                    { dia: "Quarta-feira", d: [{cod: "FCHE02", nome: "Introdu√ß√£o aos Estudos de G√™nero (T02)", prof: "Lea Menezes", horario: "18:30-22:10", paf: "FACOM", sala: "Sala 10", vagas: 50, tipo: "Obrigat√≥ria"}] },
                    { dia: "Quinta-feira", d: [{cod: "FCHE44", nome: "G√™nero e Viol√™ncia (T02)", prof: "Karine (ADM)", horario: "Manh√£", paf: "PSL", sala: "A definir", vagas: 50, tipo: "Obrigat√≥ria", status: "Cancelada"}, {cod: "FCHE02", nome: "Introdu√ß√£o aos Estudos de G√™nero (T03)", prof: "Lea Menezes", horario: "13:00-16:40", paf: "PSL", sala: "Sala 13", vagas: 50, tipo: "Obrigat√≥ria"}] },
                ]
            },
            "Monografia I & II": {
                color: "bg-pink-600",
                data: [
                    { dia: "Monografia I (FCHE31)", d: [{nome: "Orientadores", prof: "Ana Paula Boscatti, Anderson Fontes, Luana Passos, Darlane Andrade, Iole Vanin, Maise Zucco, Ma√≠ra Kubik, Marcia Macedo, Marina Guimar√£es, Janja Ara√∫jo", horario: "A combinar", pre: "FCHE23, FCHE24", tipo: "Obrigat√≥ria"}] },
                    { dia: "Monografia II (FCHE32)", d: [{nome: "Orientadores", prof: "Ana Paula Boscatti, Anderson Fontes, Luana Passos, Darlane Andrade, Iole Vanin, Maise Zucco, Ma√≠ra Kubik, Marcia Macedo, Marina Guimar√£es, Janja Ara√∫jo", horario: "A combinar", pre: "FCHE23, FCHE24, FCHE31", tipo: "Obrigat√≥ria"}] },
                ]
            }
        };

        const accordionContainer = document.getElementById('disciplinas-accordion-container');
        Object.keys(disciplinasData).forEach(key => {
            const item = disciplinasData[key];
            const accordionItem = document.createElement('div');
            
            const button = document.createElement('button');
            button.className = `disciplina-accordion-btn ${item.color}`;
            button.textContent = key;
            
            const content = document.createElement('div');
            content.className = 'disciplina-accordion-content';

            let contentHtml = '<div class="py-4 space-y-6">';
            item.data.forEach(diaInfo => {
                contentHtml += `<h4 class="text-2xl font-bold text-white">${diaInfo.dia}</h4>`;
                contentHtml += '<div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4">';
                diaInfo.d.forEach(disciplina => {
                    const tipoClass = disciplina.tipo === 'Obrigat√≥ria' ? 'bg-red-500 text-white' : 'bg-purple-500 text-white';
                    const isCancelled = disciplina.status === 'Cancelada';
                    contentHtml += `
                        <div class="disciplina-card p-4 rounded ${isCancelled ? 'bg-gray-200' : 'bg-white'} text-gray-800">
                            <h4 class="font-black text-lg ${isCancelled ? 'line-through text-gray-500' : ''}">${disciplina.cod ? disciplina.cod + ' - ' : ''}${disciplina.nome}</h4>
                            ${ isCancelled ?
                                `<p class="font-black text-red-600 text-center text-lg my-4 p-2 bg-red-100 rounded-lg border-2 border-red-600">DISCIPLINA CANCELADA</p>` :
                                `
                                <p><strong>Docente:</strong> ${disciplina.prof}</p>
                                <p><strong>Hor√°rio:</strong> ${disciplina.horario}</p>
                                ${disciplina.paf ? `<p><strong>Local:</strong> ${disciplina.paf}</p><p><strong>Sala:</strong> ${disciplina.sala}</p>` : ''}
                                ${disciplina.vagas ? `<p><strong>Vagas:</strong> ${disciplina.vagas}</p>` : ''}
                                ${disciplina.pre ? `<p><strong>Pr√©-requisitos:</strong> ${disciplina.pre}</p>` : ''}
                                <span class="tag ${tipoClass} mt-2">${disciplina.tipo}</span>
                                `
                            }
                        </div>
                    `;
                });
                contentHtml += '</div>';
            });
            contentHtml += '</div>';
            content.innerHTML = contentHtml;

            accordionItem.appendChild(button);
            accordionItem.appendChild(content);
            accordionContainer.appendChild(accordionItem);

            button.addEventListener('click', () => {
                const isOpen = content.style.maxHeight;
                document.querySelectorAll('.disciplina-accordion-content').forEach(c => c.style.maxHeight = null);
                if (!isOpen) {
                    content.style.maxHeight = content.scrollHeight + "px";
                }
            });
        });

        // --- SIGAA ACCORDION ---
        const sigaaAccordionContainer = document.getElementById('sigaa-accordion-container');
        const sigaaData = [
            { title: "Acesso", color: "bg-red-500", icon: "üîë", content: `...` },
            { title: "Matr√≠cula", color: "bg-blue-500", icon: "üìù", content: `...` },
            { title: "Hor√°rios", color: "bg-yellow-500", icon: "‚è∞", content: `...` },
            { title: "Benef√≠cios", color: "bg-green-500", icon: "‚≠ê", content: `...` }
        ];
        
        const sigaaContentHtml = {
            Acesso: `
                <div class="p-4 text-white space-y-4">
                    <div class="bg-red-700 p-4 rounded-lg"><h4 class="font-bold text-lg">Como Acessar</h4><p><strong>Link:</strong> <a href="https://sigaa.ufba.br/sigaa/" target="_blank" class="underline font-bold">sigaa.ufba.br/sigaa</a></p><ul class="list-disc list-inside ml-4"><li><strong>Login:</strong> Seu n√∫mero de CPF.</li><li><strong>Senha:</strong> Ser√° enviada para seu e-mail cadastrado na UFBA at√© 22 de agosto.</li></ul></div>
                    <div class="bg-red-700 p-4 rounded-lg"><h4 class="font-bold text-lg pt-2">Solu√ß√£o de Problemas</h4><p>1 - <strong>N√£o recebeu a senha?</strong> Entre no <a href="https://sigaa.ufba.br/sigaa/" target="_blank" class="underline font-bold">SIGAA</a> e clique em "Recuperar Senha".</p><p>2 - <strong>N√£o lembra do seu e-mail?</strong> Acesse <a href="http://www.autenticacao.ufba.br" target="_blank" class="underline font-bold">autenticacao.ufba.br</a> e clique em "Esqueci meu login ou senha".</p><p>3 - <strong>Quer atualizar seu e-mail?</strong> Preencha o <a href="https://forms.gle/iZbREnXATexdvbcLA" target="_blank" class="underline font-bold">Formul√°rio de Atualiza√ß√£o</a>.</p></div>
                    <div class="bg-red-700 p-4 rounded-lg"><h4 class="font-bold text-lg pt-2">Suporte T√©cnico</h4><p>Problemas t√©cnicos com o SIGAA: <strong>helpdesk@ufba.br</strong></p></div>
                </div>`,
            Matr√≠cula: `
                <div class="p-4 text-white space-y-4">
                    <div class="bg-blue-700 p-4 rounded-lg"><h4 class="font-bold text-lg">1. Vantagens</h4><ul class="list-disc list-inside space-y-1 mt-2"><li>Matr√≠cula e ajustes 100% online</li><li>Mais autonomia para o estudante</li><li>Fim das filas e da ‚Äúcorrida‚Äù pela matr√≠cula</li><li>Mesmas chances de vaga, n√£o importa a hora da solicita√ß√£o</li></ul></div>
                    <div class="bg-blue-700 p-4 rounded-lg"><h4 class="font-bold text-lg pt-2">2. Crit√©rios de Prioridade</h4><ol class="list-decimal list-inside space-y-1 mt-2"><li>Estudantes Regulares (Semestralizados)</li><li>Formandos</li><li>Recupera√ß√£o (reprovados ou trancados)</li><li>Adiantamento de disciplinas</li><li>Desempate: Coeficiente de Rendimento (CR)</li></ol><p class="mt-4">üí° <strong>Dica de Ouro:</strong> Fa√ßa todas as suas solicita√ß√µes na Matr√≠cula WEB (1¬™ etapa). Vagas remanescentes ser√£o liberadas para outros cursos na 2¬™ etapa.</p></div>
                    <div class="bg-blue-700 p-4 rounded-lg"><h4 class="font-bold text-lg pt-2">3. Flexibiliza√ß√£o de Pr√©-requisito</h4><p>A solicita√ß√£o √© feita no SIGAA durante a matr√≠cula.</p><p><strong>Permitida quando:</strong></p><ul class="list-disc list-inside"><li>J√° cursou o pr√©-requisito e foi reprovado (nota ‚â† 0).</li><li>Est√° matriculado no pr√©-requisito no mesmo semestre.</li></ul></div>
                    <div class="bg-blue-700 p-4 rounded-lg"><h4 class="font-bold text-lg pt-2">4. Pontos de Aten√ß√£o</h4><p><strong>Limite de Carga Hor√°ria:</strong> 1¬™ Etapa (Matr√≠cula Web) ‚Äì at√© 450 horas. 2¬™ Etapa (Rematr√≠cula) ‚Äì at√© 540 horas.</p><p><strong>Falta de Lan√ßamento de Notas:</strong> A falta de nota do semestre anterior pode impedir a matr√≠cula em componentes sequenciais ou a quebra de pr√©-requisito.</p></div>
                </div>`,
            Hor√°rios: `
                <div class="p-4 text-white space-y-4">
                    <div class="bg-yellow-400 p-4 rounded-lg text-gray-800"><h4 class="font-bold text-lg">Codifica√ß√£o</h4><p>O SIGAA usa um c√≥digo para os hor√°rios no formato: <strong>[Dia][Turno][Hor√°rios]</strong>.</p><p class="mt-2"><strong>Exemplo: 3T1234</strong> significa Ter√ßa-feira (3), turno da Tarde (T), do 1¬∫ ao 4¬∫ hor√°rio.</p></div>
                    <div class="bg-yellow-400 p-4 rounded-lg text-gray-800 grid grid-cols-1 sm:grid-cols-3 gap-4 mt-2">
                        <div><h5 class="font-black">Dia da Semana</h5><ul class="list-disc list-inside text-sm"><li>2 = Segunda</li><li>3 = Ter√ßa</li><li>4 = Quarta</li><li>5 = Quinta</li><li>6 = Sexta</li><li>7 = S√°bado</li></ul></div>
                        <div><h5 class="font-black">Turno</h5><ul class="list-disc list-inside text-sm"><li>M = Manh√£</li><li>T = Tarde</li><li>N = Noite</li></ul></div>
                        <div><h5 class="font-black">Hor√°rios</h5><ul class="list-disc list-inside text-sm"><li>1 = 1¬∫ Hor√°rio</li><li>2 = 2¬∫ Hor√°rio</li><li>...e assim por diante</li></ul></div>
                    </div>
                </div>`,
            Benef√≠cios: `
                <div class="p-4 text-white space-y-4">
                    <div class="bg-green-700 p-4 rounded-lg"><h4 class="font-bold text-lg">Vantagens do SIGAA</h4><ul class="list-disc list-inside"><li><strong>Diploma Digital:</strong> Emiss√£o r√°pida e segura.</li><li><strong>Hist√≥rico em Tempo Real:</strong> Consulte seu progresso a qualquer momento.</li><li><strong>Atividades Complementares:</strong> Solicite online, sem burocracia.</li></ul></div>
                </div>`
        };

        sigaaData.forEach(item => {
            const accordionItem = document.createElement('div');
            
            const button = document.createElement('button');
            button.className = `sigaa-accordion-btn ${item.color}`;
            button.innerHTML = `<span>${item.icon}</span> ${item.title}`;
            
            const content = document.createElement('div');
            content.className = 'sigaa-accordion-content';
            content.innerHTML = sigaaContentHtml[item.title];

            accordionItem.appendChild(button);
            accordionItem.appendChild(content);
            sigaaAccordionContainer.appendChild(accordionItem);

            button.addEventListener('click', () => {
                const isOpen = content.style.maxHeight;
                document.querySelectorAll('.sigaa-accordion-content').forEach(c => c.style.maxHeight = null);
                if (!isOpen) {
                    content.style.maxHeight = content.scrollHeight + "px";
                }
            });
        });


        // --- QUIZ LOGIC ---
        const quizIntro = document.getElementById('quiz-intro');
        const startQuizBtn = document.getElementById('start-quiz-btn');
        const quizContainer = document.getElementById('quiz-container');
        const resultsScreen = document.getElementById('results-screen');
        const finalScoreEl = document.getElementById('final-score');
        const restartQuizBtn = document.getElementById('restart-quiz-btn');
        
        const questionEl = document.getElementById('quiz-question');
        const optionsEl = document.querySelectorAll('.quiz-option');
        const timerEl = document.getElementById('quiz-timer');
        const questionCounterEl = document.getElementById('question-counter');
        const runningScoreEl = document.getElementById('running-score');

        const feedbackModal = document.getElementById('feedback-modal');
        const feedbackContent = document.getElementById('feedback-content');
        const feedbackTitle = document.getElementById('feedback-title');
        const feedbackText = document.getElementById('feedback-text');
        const feedbackPoints = document.getElementById('feedback-points');
        const resultsMessageEl = document.getElementById('results-message');

        let correctSound, incorrectSound;

        function setupSounds() {
            if (!correctSound) {
                 correctSound = new Tone.Synth({ oscillator: { type: 'sine' }, envelope: { attack: 0.005, decay: 0.1, sustain: 0.3, release: 1 } }).toDestination();
            }
             if (!incorrectSound) {
                incorrectSound = new Tone.Synth({ oscillator: { type: 'triangle' }, envelope: { attack: 0.005, decay: 0.2, sustain: 0, release: 1 } }).toDestination();
            }
        }

        const quizData = [
            { question: "Qual o per√≠odo da Matr√≠cula WEB para o semestre 2025.2?", options: [ { text: "20 a 25 de agosto", correct: false }, { text: "01 a 05 de setembro", correct: false }, { text: "27 a 31 de agosto", correct: true }, { text: "11 a 16 de setembro", correct: false } ], feedback_correct: "Exato! A Matr√≠cula WEB √© o primeiro e mais importante passo.", feedback_incorrect: "Ops! A data correta √© de 27 a 31 de agosto." },
            { question: "Qual o per√≠odo para solicitar o TRANCAMENTO de matr√≠cula?", options: [ { text: "30/09 a 29/10", correct: true }, { text: "01 a 05 de setembro", correct: false }, { text: "25 a 29 de setembro", correct: false }, { text: "11 a 16 de setembro", correct: false } ], feedback_correct: "Correto! O prazo √© longo, mas n√£o deixe para a √∫ltima hora.", feedback_incorrect: "Aten√ß√£o! O per√≠odo correto √© de 30 de setembro a 29 de outubro." },
            { question: "Qual o limite de carga hor√°ria na 2¬™ Etapa (Rematr√≠cula)?", options: [ { text: "400 horas", correct: false }, { text: "450 horas", correct: false }, { text: "500 horas", correct: false }, { text: "540 horas", correct: true } ], feedback_correct: "Isso a√≠! Na rematr√≠cula voc√™ pode se inscrever em at√© 540 horas.", feedback_incorrect: "Na verdade, na 2¬™ etapa o limite sobe para 540 horas." },
            { question: "Como voc√™ deve acessar o SIGAA pela primeira vez?", options: [ { text: "Usando o n√∫mero de matr√≠cula como login", correct: false }, { text: "Com o CPF como login e a senha enviada por e-mail", correct: true }, { text: "Criando um novo cadastro no site", correct: false }, { text: "Solicitando ao colegiado", correct: false } ], feedback_correct: "Isso mesmo! O login √© seu CPF e a senha inicial vai para o seu e-mail.", feedback_incorrect: "O primeiro acesso √© com seu CPF e a senha que a UFBA envia para o seu e-mail." },
            { question: "O que fazer se voc√™ n√£o receber o e-mail com a senha do SIGAA?", options: [ { text: "Ir presencialmente na STI", correct: false }, { text: "Esperar uma semana", correct: false }, { text: "Ligar para o colegiado", correct: false }, { text: "Usar a op√ß√£o 'Recuperar Senha' no pr√≥prio site do SIGAA", correct: true } ], feedback_correct: "Perfeito! A op√ß√£o 'Recuperar Senha' √© o caminho mais r√°pido.", feedback_incorrect: "O ideal √© usar a op√ß√£o 'Recuperar Senha' no pr√≥prio site do SIGAA." },
            { question: "Qual √© o primeiro crit√©rio na ordem de prioridade para conseguir vagas?", options: [ { text: "Formandos", correct: false }, { text: "Estudantes Regulares (Semestralizados)", correct: true }, { text: "Adiantamento de disciplinas", correct: false }, { text: "Recupera√ß√£o (reprovados)", correct: false } ], feedback_correct: "Isso mesmo! Estudantes que seguem a grade t√™m prioridade.", feedback_incorrect: "Na verdade, os estudantes regulares (semestralizados) t√™m a maior prioridade." },
            { question: "Qual benef√≠cio N√ÉO est√° listado como uma vantagem do SIGAA?", options: [ { text: "Diploma Digital", correct: false }, { text: "Hist√≥rico em Tempo Real", correct: false }, { text: "Solicita√ß√£o de Atividades Complementares", correct: false }, { text: "Acesso gratuito a softwares", correct: true } ], feedback_correct: "Correto! Acesso a softwares n√£o √© um benef√≠cio direto listado.", feedback_incorrect: "Essa √© uma vantagem listada. Acesso a softwares n√£o √© um benef√≠cio direto do SIGAA." },
            { question: "No c√≥digo de hor√°rios '6N12', o que o '6' significa?", options: [ { text: "Sexto semestre", correct: false }, { text: "Sexta-feira", correct: true }, { text: "6¬™ hora da noite", correct: false }, { text: "Sala 6", correct: false } ], feedback_correct: "Exatamente! No c√≥digo do SIGAA, '6' representa a Sexta-feira.", feedback_incorrect: "Quase! No c√≥digo de hor√°rios, o primeiro n√∫mero √© o dia da semana. '6' √© Sexta-feira." },
            { question: "A falta de lan√ßamento de nota do semestre anterior pode te impedir de...", options: [ { text: "Trancar a matr√≠cula", correct: false }, { text: "Acessar o SIGAA", correct: false }, { text: "Solicitar quebra de pr√©-requisito", correct: true }, { text: "Colar grau", correct: false } ], feedback_correct: "Isso mesmo! √â importante ficar de olho nas suas notas para n√£o ter problemas.", feedback_incorrect: "Cuidado! A falta de nota pode impedir a quebra de pr√©-requisito e a matr√≠cula em disciplinas sequenciais." }
        ];
        
        const optionStyles = [ { color: '#dc3545', symbol: '‚ñ≤' }, { color: '#007bff', symbol: '‚ô¶' }, { color: '#ffc107', symbol: '‚óè' }, { color: '#28a745', symbol: '‚ñ†' } ];
        let currentQuestionIndex = 0;
        let score = 0;
        let timer;
        let timeLeft = 30;

        function shuffle(array) {
            for (let i = array.length - 1; i > 0; i--) { const j = Math.floor(Math.random() * (i + 1)); [array[i], array[j]] = [array[j], array[i]]; }
            return array;
        }

        function startQuiz() {
            setupSounds();
            Tone.start();
            quizIntro.style.display = 'none';
            resultsScreen.style.display = 'none';
            quizContainer.style.display = 'block';
            currentQuestionIndex = 0;
            score = 0;
            runningScoreEl.innerText = `Pontos: 0`;
            showQuestion();
        }

        function showQuestion() {
            resetState();
            const currentQuestion = quizData[currentQuestionIndex];
            questionEl.innerText = currentQuestion.question;
            questionCounterEl.innerText = `Pergunta ${currentQuestionIndex + 1} de ${quizData.length}`;
            let shuffledOptions = shuffle([...currentQuestion.options]);
            let shuffledStyles = shuffle([...optionStyles]);

            optionsEl.forEach((optionEl, index) => {
                const optionData = shuffledOptions[index];
                const styleData = shuffledStyles[index];
                optionEl.querySelector('span').innerText = optionData.text;
                optionEl.style.backgroundColor = styleData.color;
                optionEl.dataset.correct = optionData.correct;
                let symbolEl = optionEl.querySelector('.symbol');
                if (!symbolEl) {
                    symbolEl = document.createElement('div');
                    symbolEl.className = 'symbol text-2xl';
                    optionEl.prepend(symbolEl);
                }
                symbolEl.innerText = styleData.symbol;
            });
            startTimer();
        }

        function startTimer() {
            timeLeft = 30;
            timerEl.innerText = timeLeft;
            timer = setInterval(() => {
                timeLeft--;
                timerEl.innerText = timeLeft;
                if (timeLeft <= 0) { clearInterval(timer); selectAnswer(null); }
            }, 1000);
        }

        function resetState() {
            clearInterval(timer);
            optionsEl.forEach(option => { option.classList.remove('disabled'); option.dataset.correct = 'false'; });
        }

        function selectAnswer(selectedEl) {
            clearInterval(timer);
            const isTimeout = selectedEl === null;
            const correct = !isTimeout && selectedEl.dataset.correct === 'true';
            const currentQuestion = quizData[currentQuestionIndex];
            optionsEl.forEach(option => option.classList.add('disabled'));
            let points = 0;
            if (correct) {
                points = 500 + (timeLeft * 16.66);
                score += Math.round(points);
                runningScoreEl.innerText = `Pontos: ${score}`;
                correctSound.triggerAttackRelease("C5", "8n");
                showFeedback(true, currentQuestion.feedback_correct, Math.round(points));
            } else {
                incorrectSound.triggerAttackRelease("C3", "8n");
                showFeedback(false, currentQuestion.feedback_incorrect, 0);
            }
        }

        function showFeedback(isCorrect, feedbackMsg, points) {
            feedbackTitle.innerText = isCorrect ? "BOA!" : "QUASE L√Å...";
            feedbackText.innerText = feedbackMsg;
            feedbackContent.className = isCorrect ? 'correct' : 'incorrect';
            if(isCorrect) {
                feedbackPoints.innerText = `+${points}`;
            } else {
                feedbackPoints.innerText = '';
            }
            feedbackModal.classList.add('show');
            setTimeout(() => {
                feedbackModal.classList.remove('show');
                currentQuestionIndex++;
                if (currentQuestionIndex < quizData.length) { showQuestion(); } else { showResults(); }
            }, 5000); // Feedback shown for 5 seconds
        }
        
        function showResults() {
            quizContainer.style.display = 'none';
            resultsScreen.style.display = 'block';
            const maxScore = quizData.length * 1000;
            finalScoreEl.innerText = `${score} de ${maxScore} Pontos`;

            const percentage = (score / maxScore) * 100;
            const resultsMessageEl = document.getElementById('results-message');
            const resultsCardEl = document.getElementById('results-card');

            resultsCardEl.classList.remove('bg-purple-800', 'bg-green-600', 'bg-red-600');

            if (percentage >= 80) {
                resultsMessageEl.innerText = "Parab√©ns, voc√™ est√° no caminho certo!";
                resultsCardEl.classList.add('bg-green-600');
            } else {
                resultsMessageEl.innerText = "Tente mais uma vez e reforce seu conhecimento!";
                resultsCardEl.classList.add('bg-red-600');
            }
        }

        optionsEl.forEach(option => {
            option.addEventListener('click', () => { if (!option.classList.contains('disabled')) { selectAnswer(option); } });
        });

        startQuizBtn.addEventListener('click', startQuiz);
        restartQuizBtn.addEventListener('click', startQuiz);
    });
    </script>
</body>
</html>














